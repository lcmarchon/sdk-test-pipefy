<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Task Manager Pro - SDK Test</title>
</head>
<body>
    <div style="padding: 20px; text-align: center;">
        <h2>ðŸš€ Task Manager Pro - VersÃ£o Limpa</h2>
        <p>SDK funcionando sem erros!</p>
    </div>

    <!-- Pipefy Client SDK -->
    <script src="https://platform.staticpipefy.com/pipefy-app.js"></script>
    <script>
        console.log('ðŸš€ Iniciando Task Manager Pro - VersÃ£o Limpa');

        PipefyApp.initCall({
            // APENAS CARD BUTTONS - sem outras funcionalidades que causam erro
            'card-buttons': function(p, pipe, card) {
                console.log('ðŸŽ¨ Adicionando botÃµes ao card');
                return [
                    {
                        icon: 'https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4dd.svg',
                        text: 'Notas',
                        callback: function(p) {
                            console.log('âœ… BotÃ£o Notas clicado');
                            
                            // NotificaÃ§Ã£o simples
                            const notification = document.createElement('div');
                            notification.innerHTML = 'ðŸ“ Notas abertas!';
                            notification.style.cssText = 'position:fixed;top:20px;right:20px;background:#4CAF50;color:white;padding:15px;border-radius:5px;z-index:9999;font-family:Arial;';
                            document.body.appendChild(notification);
                            setTimeout(() => notification.remove(), 3000);
                        }
                    },
                    {
                        icon: 'https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/23f1.svg',
                        text: 'Timer',
                        callback: function(p) {
                            console.log('âœ… BotÃ£o Timer clicado');
                            
                            // Abre calendÃ¡rio
                            window.open('https://calendar.google.com/calendar/u/0/appointments/schedules/AcZssZ3eI5FttD_0iVZ_KU38Y8fOk0oi132aBDyKAcOam0bNyyd_bdNRbJmDT_ysekP5FAske0CFVM9X', '_blank');
                            
                            // NotificaÃ§Ã£o
                            const notification = document.createElement('div');
                            notification.innerHTML = 'ðŸ“… CalendÃ¡rio aberto!';
                            notification.style.cssText = 'position:fixed;top:20px;right:20px;background:#2196F3;color:white;padding:15px;border-radius:5px;z-index:9999;font-family:Arial;';
                            document.body.appendChild(notification);
                            setTimeout(() => notification.remove(), 3000);
                        }
                    },
                    {
                        icon: 'https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4f1.svg',
                        text: 'WhatsApp',
                        callback: function(p) {
                            console.log('âœ… BotÃ£o WhatsApp clicado - abrindo modal');
                            
                            // Abre diretamente em nova janela (mais confiÃ¡vel)
                            window.open('whatsapp-modal.html', 'whatsapp', 'width=700,height=500,scrollbars=yes,resizable=yes');
                            
                            // NotificaÃ§Ã£o visual
                            const notification = document.createElement('div');
                            notification.innerHTML = 'ðŸ“± WhatsApp Business aberto!';
                            notification.style.cssText = 'position:fixed;top:20px;right:20px;background:#25D366;color:white;padding:15px;border-radius:8px;z-index:9999;font-family:Arial;box-shadow:0 4px 12px rgba(0,0,0,0.2);';
                            document.body.appendChild(notification);
                            setTimeout(() => notification.remove(), 3000);
                        }
                    }
                ];
            }
        });

        console.log('âœ… Task Manager Pro configurado - versÃ£o limpa!');
    </script>
</body>
</html>