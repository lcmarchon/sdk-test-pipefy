<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>WhatsApp Business App</title>
</head>
<body>
    <div style="padding: 20px; text-align: center; background: #25D366; color: white; font-family: Arial;">
        <h2>üì± Inicializando WhatsApp Business...</h2>
        <p>Conectando com Pipefy...</p>
    </div>

<!-- Pipefy Client SDK -->
<script src="https://platform.staticpipefy.com/pipefy-app.js"></script>
<script>
    console.log('üöÄ Iniciando WhatsApp Business App...');

    PipefyApp.initCall({
        // PIPE VIEW - Bot√£o e p√°gina no Pipe
        'pipe-view': function(p, pipe) {
            console.log('üìç Configurando pipe-view WhatsApp para pipe:', pipe);
            return {
                icon: 'https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4f1.svg',
                text: 'WhatsApp',
                url: 'pipe-view.html',
                hide_create_button: false
            };
        },
        
        // CARD BADGES - Etiquetas que aparecem NA LISTAGEM dos cards
        'card-badges': function(p, pipe, card) {
            console.log('üè∑Ô∏è Adicionando badges WhatsApp ao card');
            return [
                {
                    text: 'üì± WhatsApp',
                    color: '#25D366',
                    title: 'Contato WhatsApp Business dispon√≠vel'
                },
                {
                    text: '‚úÖ Online',
                    color: '#128C7E',
                    title: 'Status WhatsApp: Online'
                }
            ];
        },
        
        // CARD TAB - Nova aba dentro do Card
        'card-tab': function(p, pipe, card) {
            console.log('üìë Configurando aba WhatsApp do card');
            return {
                icon: 'https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f4f1.svg',
                title: 'WhatsApp',
                url: 'card-tab.html',
                buttons: [
                    {
                        text: 'üî• TESTE FUNCIONOU!',
                        callback: function(p) {
                            console.log('Nova mensagem WhatsApp!');
                            alert('‚úÖ TESTE: Conseguimos manipular os bot√µes!');
                        }
                    },
                    {
                        text: 'üöÄ MUDAN√áA OK!',
                        callback: function(p) {
                            console.log('Hist√≥rico WhatsApp solicitado!');
                            alert('‚úÖ TESTE: Interface foi modificada!');
                        }
                    },
                    {
                        text: '‚≠ê BOT√ÉO NOVO!',
                        callback: function(p) {
                            console.log('Bot√£o novo adicionado!');
                            alert('üéâ TESTE: Bot√£o novo criado com sucesso!');
                        }
                    }
                ]
            };
        }
    });

    console.log('‚úÖ WhatsApp Business App configurado com sucesso!');
</script>
</body>
</html>